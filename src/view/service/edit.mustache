{{> header }}

{{> adminmenu }}

<div id="vapp" class="container-fluid px-4">

    <h1 class="display-6 text-center">
        {{# service.id }}
            {{ service.name }}
        {{/ service.id }}
        {{^ service.id }}
            New service
        {{/ service.id }}
    </h1>

    {{> formerrors }}

    <form id="service-edit-form" class="validate-form form-horizontal container border shadow p-3" action="{{# path }}service/edit{{/ path }}/{{ service.id }}" method="post" >
        {{{ form.code }}}
        {{{ form.name  }}}
        {{{ form.description }}}
        <div class="mb-3">
            <vue-editor v-model="content"></vue-editor>
        </div>
        {{{ form.visible }}}
        {{{ form.date }}}
        {{{ form.singlesupplement }}}
        {{{ form.commentbox }}}
        {{{ form.eticket }}}
        {{{ form.mealsinstandard }}}
        {{{ form.mealsinfirst }}}

        <table class="table">
            <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th>Meal name</th>
                    <th>Visible?</th>
                    <th>Meal price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th class="lead">A</th>
                    <td>{{{ form.mealaname }}}</td>
                    <td>{{{ form.mealavisible }}}</td>
                    <td>{{{ form.mealaprice }}}</td>
                </tr>
                <tr>
                    <th class="lead">B</th>
                    <td>{{{ form.mealbname }}}</td>
                    <td>{{{ form.mealbvisible }}}</td>
                    <td>{{{ form.mealbprice }}}</td>
                </tr>
                <tr>
                    <th class="lead">C</th>
                    <td>{{{ form.mealcname }}}</td>
                    <td>{{{ form.mealcvisible }}}</td>
                    <td>{{{ form.mealcprice }}}</td>
                </tr>
                <tr>
                    <th class="lead">D</th>
                    <td>{{{ form.mealdname }}}</td>
                    <td>{{{ form.mealdvisible }}}</td>
                    <td>{{{ form.mealdprice }}}</td>
                </tr>
            </tbody>
        </table>

        <div>
            <input type="submit" name="submit" value="Save" class="btn btn-primary" />
            <input type="submit" name="cancel" value="Cancel" formnovalidate="formnovalidate" class="btn btn-warning" />
        </div>
    </form>

    
</div>

<script type="module">
    
    const vueApp = new Vue({
        el: '#vapp',
        data: { 
            content: 'fred',
            description: 'holding',
        },
        mounted: function() {
            const v = this
            axios.get('{{ apicall }}')
            .then(function(response) {
                const data = response.data
                v.content = data.description
                window.console.log(v.content)
            })
        },
        methods: {
        }
    })
</script>


{{> footer }}