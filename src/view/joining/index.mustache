{{> header }}

{{> adminmenu }}

<div class="container-fluid px-4">

    <h1 class="display-6 text-center">Joining stations - {{ service.name }}</h1>

    <div class="container border shadow p-3">
        {{# saved }}
            <div class="alert alert-success">
                Joining station has been saved.
            </div>
        {{/ saved }}
        {{^ setup }}
            <div class="alert alert-danger">
                There are no pricebands. You need to create at least one priceband (and
                at least one destination) first.
            </div>
        {{/ setup }}
        {{# setup }}
            {{# nojoinings }}
                <div class="alert alert-warning">
                    No joining stations have been created.
                </div>
            {{/ nojoinings }}
            {{^ nojoinings }}
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Station</th>
                            <th>CRS</th>
                            <th>Price band</th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                    {{# joinings }}
                            <tr>
                                <td>{{ station }}</td>
                                <td><span class="badge badge-pill badge-danger">{{ crs }}</span>
                                <td>{{ pricebandname }}</td>
                                <td>
                                    <a class="btn btn-sm btn-primary" href="{{# path }}joining/edit{{/ path }}/{{ serviceid }}/{{ id }}">
                                        Edit</a>
                                    <a class="btn btn-sm btn-danger" href="{{# path }}joining/delete{{/ path }}/{{ id }}">
                                        Delete</a>
                                </td>
                            </tr>
                    {{/ joinings }}
                    </tbody>
                </table>
            {{/ nojoinings }}

            <div>
                <a class="btn btn-primary" href="{{# path }}joining/edit{{/ path }}/{{ service.id }}/0">
                    New station
                </a>&nbsp;
                <a class="btn btn-warning" href="{{# path }}service/show{{/ path }}/{{ service.id }}">
                    Back
                </a>
            </div>
        {{/ setup }}
    </div>
</div>

{{> footer }}